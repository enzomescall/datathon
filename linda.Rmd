```{r setup, include = FALSE}
knitr::opts_chunk$set(warning = FALSE, 
                      message = FALSE, 
                      fig.align = "center")
```

```{r load-packages, echo = F}
library(tidyverse)
library(knitr)
library(broom)
library(patchwork)
library(haven)
library(yardstick)
library(naniar)
```

```{r}
Wave1_data <- read_sav("Wave1_20170906.sav")
```

```{r}
country_dist <- ggplot(data = Wave1_data, aes(x = q001)) +
  geom_bar(fill = "lightblue", color = "black") +
  labs(x = "Economic Condition of Respondent",
       y = "Count",
       title = "Distribution of Economic Condition by Country")

country_dist
```
```{r}

y <- Wave1_data %>%
  select(q121:q144) %>%
  mutate(average <- mean(Wave1_data, na.rm = TRUE))
y
```
Questions to average 121-148

```{r}
ideology_responses <- Wave1_data %>%
  select(q121:q148, idnumber)
  #select(q123, q124, q126:q146, q147a, q148)

ideology_responses
```
```{r}
ideology_responses[is.na(ideology_responses)] <- 100000
```

```{r}
ideology_responses_na <- ideology_responses %>%
  mutate(sum = rowSums(ideology_responses[])) %>%
  filter(sum <299999)

ideology_filtered <- select(ideology_responses_na, q121:q148, idnumber)
```

```{r}
x <- merge(ideology_filtered, Wave1_data, by = "idnumber")
x
```

for row in ideology_repsonses:
  if sum of entries in row > 4000:
      remove row




for row in ideology_repsonses:
  if sum of entries in row > 4000:
      remove row



```{r}
ggplot(data = x, aes(x = country)) + geom_histogram()
```